<!DOCTYPE html>
<html   xmlns:th="http://www.thymeleaf.org"		
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layouts/layout}"
		data-wf-domain="jeonghuns-wondrous-site.webflow.io" 
		data-wf-page="65085ce06a89f83f850a19d5"
    	data-wf-site="65085ce06a89f83f850a1961" 
    	data-wf-status="1">

<th:block layout:fragment="script">
	<script th:inline="javascript">
		
	$(document).ready(function() {
        // 서버에서 받은 추천한 음악 ID 목록
        var likedMusicIds = /*[[${likedMusicIds}]]*/ [];

        console.log(likedMusicIds)

        // 이미지 클릭 시 동작
        $('.main-top-music-function-like').click(function() {
            var musicId = $(this).data('music-id');
            
            console.log("musicId");
            // 이미 추천한 경우 이미지 변경하지 않음
            if (likedMusicIds.includes(musicId)) {
                alert('이미 추천한 음악입니다.');
                return;
            }

            // TODO: 서버에 좋아요 업데이트 요청 등 추가 동작 수행
            // 클라이언트 측에서 이미지 변경
            $(this).attr('src', '/static/images/like_on.png');
            // likedMusicIds에 추가
            likedMusicIds.push(musicId);
        });

        // 서버에서 받은 추천한 음악 ID 목록에 따라 이미지 변경
        likedMusicIds.forEach(function(musicId) {
            $('img[data-music-id="' + musicId + '"]').attr('src', '/static/images/like_on.png');
        });
    });
	
	    function likeMusic(musicId) {
	    	// 이미 좋아요를 눌렀는지 확인
	       

	        // AJAX를 사용하여 서버에 좋아요 수 업데이트 요청
	        $.ajax({
	            type: 'POST',
	            url: '/like/' + musicId,
	            dataType: 'json',
	            success: function (updatedLikeCount) {
	                // 성공적으로 업데이트된 좋아요 수를 받아와 화면 갱신
	                $('#likeCount').text(updatedLikeCount);
	                
	                // 로컬 스토리지에 좋아요 눌렀음을 표시
	                localStorage.setItem(`like_${musicId}`, 'true');
	            },
	            error: function (xhr) {
	            }
	        });
	    }
	    
	    
	</script>

</th:block>

<head>
<div layout:fragment="head">
    <meta charset="utf-8" />
    <title>정훈&#x27;s Wondrous Site</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link
        th:href="@{/css/index.css}"
        rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script
        type="text/javascript">WebFont.load({ google: { families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic", "Roboto:300,regular,500", "Roboto Condensed:300,regular,700", "Roboto Slab:300,regular,700", "Arbutus Slab:regular"] } });</script>
    <script
        type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
    <link
        href="https://assets-global.website-files.com/65085ce06a89f83f850a1961/65085ce06a89f83f850a19dc_New%20icon.ico"
        rel="shortcut icon" type="image/x-icon" />
    <link
        href="https://assets-global.website-files.com/65085ce06a89f83f850a1961/65085ce06a89f83f850a19f2_metric-webclip.png"
        rel="apple-touch-icon" />
</div>
</head>

<body>
<div layout:fragment="content">
    <div data-delay="4000" data-animation="slide" class="slider w-slider" data-autoplay="false" data-easing="ease"
        data-hide-arrows="false" data-disable-swipe="false" data-autoplay-limit="0" data-nav-spacing="3"
        data-duration="500" data-infinite="true">
        <div class="w-slider-mask">
            <div class="slide _1 w-slide">
                <div class="w-container"></div>
            </div>
            <div class="slide _2 w-slide">
                <div class="w-container"></div>
            </div>
            <div class="slide _3 w-slide">
                <div class="w-container"></div>
            </div>
        </div>
        <div class="w-slider-arrow-left">
            <div class="w-icon-slider-left"></div>
        </div>
        <div class="w-slider-arrow-right">
            <div class="w-icon-slider-right"></div>
        </div>
        <div class="w-slider-nav w-round"></div>
    </div>
    <div id="top" class="introduce-section main">
        <div class="w-container">
            <div class="introduce-columns w-row">
                <div class="introduce-column-1 w-col w-col-6">
                    <h1 class="introduce-main-heading">Grow Your Business 10x with Metric</h1>
                    <p class="introduce-main-subtitle">The Metric Dashboard brings all of your business insights under
                        one roof. Revenue metrics, social, integrations - everything.</p><a href="#"
                        class="introduce-sing-up-button">Sign Up</a><a href="#"
                        class="introduce-more-button hollow">Learn More</a>
                </div>
                <div class="introduce-column-2 w-col w-col-6"></div>
            </div>
        </div>
    </div>
    <div id="features" data-w-id="62e437ac-c9a3-3226-3092-d9ad5af8c296" class="main-page-section">
        <div class="main-page-container w-container">
            <div class="music-search-form-block w-form">
                <form id="email-form" name="email-form" data-name="Email Form" method="get" class="music-search-form"
                    data-wf-page-id="65085ce06a89f83f850a19d5"
                    data-wf-element-id="b0b94214-63f5-012a-91b1-b9d099a6c6bb"><input type="email"
                        class="music-search-text-field w-input" maxlength="256" name="email" data-name="Email"
                        placeholder="Search..." id="email" required="" /><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650d9bb6d07ab67837229546_search.svg"
                        loading="lazy" alt="" class="music-search-image" /></form>
            </div>
            <div class="w-layout-blockcontainer main-top-music-container w-container">
                <h2 class="main-top-music-heading">Current Top 10</h2>
                <div class="main-top-music-subtitle">The most recommended songs on TrendAI in real time</div>
                
                <div th:each="music : ${topLikeMusics}">
	                <div data-w-id="a3ac40da-8f92-a933-9ba7-945082f86e45" class="main-top-music-row w-row">
	                    
	                    <div class="main-top-music-img-column w-col w-col-4">
	                    	<img th:src="${music.imgUrl}"
	                            data-ix="fade-in-on-scroll" width="100" height="100"
	                            style="-webkit-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0"
	                            alt="" data-w-id="a3ac40da-8f92-a933-9ba7-945082f86e47" class="main-top-music-img" />
	                        <img th:src="@{/static/images/music_play_button.png}" th:onclick="playMusic(/*[[${music.musicUrl}]]*/, /*[[${music.imgUrl}]]*/, /*[[${music.aiSinger}]]*/, /*[[${music.title}]]*/, /*[[${music.oriSinger}]]*/, /*[[${music.memberDetail.nickname}]]*/)"
	                            loading="lazy" alt="" class="play-button-img" /></div>
	                    <div class="main-top-music-detail-column w-col w-col-4">
	                        <h4 class="main-top-music-title" th:text="${music.aiSinger + ' - ' + music.title + '(' + music.oriSinger + ')'}">AI 가수 - Title(원작자)</h4>
	                        <p class="main-top-music-uploader" th:text="${music.uploaderNickname}">Uploader</p>
	                        <div class="current-div-block">
	                        	<img th:src="@{/static/images/like.png}" loading="lazy" width="24" alt="" class="main-top-music-show-like-img" />
	                            <div class="main-top-music-show-like-text" th:id="likeCount" th:text="${music.like}">55.3k</div>
	                        </div>
	                    </div>
	                    <div class="main-top-music-last-column w-col w-col-4">
	                        <div class="main-top-music-function-columns w-row">
	                            <div class="main-top-music-function-like-column w-col w-col-4">
	                            	<img th:src="@{/static/images/like.png}" th:onclick="|likeMusic(${music.id})|" loading="lazy" style="display:none" data-w-id="a3ac40da-8f92-a933-9ba7-945082f86e55"
	                            		th:attr="data-music-id=${music.id}" alt="" class="main-top-music-function-like" /></div>
	                            <div class="main-top-music-function-addsong-column w-col w-col-4">
	                            	<img th:src="@{/static/images/add_song.png}" loading="lazy" style="display:none" alt=""
	                                    class="main-top-music-function-addsong" /></div>
	                            <div class="main-top-music-function-report-column w-col w-col-4"><a href="#"
	                                    class="main-report-link-block w-inline-block">
	                                <img th:src="@{/static/images/report.png}" loading="lazy" style="display:none" alt=""
	                                        class="main-top-music-function-report" /></a></div>
	                        </div>
	                    </div>
	                </div>
	                </div>
                
                
                <!-- <div data-w-id="23a0d580-8892-9eb0-b83e-48f41bb67237" class="main-top-music-row w-row">
                    <div class="main-top-music-img-column w-col w-col-4"><img
                            src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/6528300eae719661208005fa_null-symbol.png"
                            data-ix="fade-in-on-scroll" width="100" height="100"
                            style="-webkit-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0"
                            alt="" data-w-id="23a0d580-8892-9eb0-b83e-48f41bb67239" class="main-top-music-img" /><img
                            src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/6532818cf112bcb905605e39_play.png"
                            loading="lazy" alt="" class="play-button-img" /></div>
                    <div class="main-top-music-detail-column w-col w-col-4">
                        <h4 class="main-top-music-title">AI 가수 - Title(원작자)aaaaaaaaaaaaaaaaaaa</h4>
                        <p class="main-top-music-uploader">Uploader</p>
                        <div class="div-block-9"><img
                                src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/65086f80740ea01aab892a60_heart.png"
                                loading="lazy" width="24" alt="" class="main-top-music-show-like-img" />
                            <div class="main-top-music-show-like-text">55.3k</div>
                        </div>
                    </div>
                    <div class="main-top-music-last-column w-col w-col-4">
                        <div class="columns-8 w-row">
                            <div class="w-col w-col-4"><img
                                    src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/65086f80740ea01aab892a60_heart.png"
                                    loading="lazy" style="display:none" data-w-id="23a0d580-8892-9eb0-b83e-48f41bb67247"
                                    alt="" class="main-top-music-function-like" /></div>
                            <div class="w-col w-col-4"><img
                                    src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650beda9e0a10b45d18c5763_add_song.png"
                                    loading="lazy" style="display:none" alt=""
                                    class="main-top-music-function-addsong" /></div>
                            <div class="main-top-music-function-report-column w-col w-col-4"><a href="#"
                                    class="w-inline-block"><img
                                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650bed8c90bacc4fb8fb1b8f_report.png"
                                        loading="lazy" style="display:none" alt=""
                                        class="main-top-music-function-report" /></a></div>
                        </div>
                    </div>
                </div> -->
            </div>
            <div class="w-layout-blockcontainer main-top-music-container w-container">
                <h2 class="main-top-music-heading">Recent Upload Music</h2>
                <div class="main-top-music-subtitle">Show recently uploaded music</div>
                
                
                <div th:each="music : ${recentMusics}">
                	<div data-w-id="42c75ce4-3589-9097-cc65-8954b28f56c4" class="main-top-music-row w-row">
                		
	                    <div class="main-top-music-img-column w-col w-col-4">
	                    	<img th:src="${music.imgUrl}"
	                            data-ix="fade-in-on-scroll" width="100" height="100"
	                            style="-webkit-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0"
	                            alt="" data-w-id="42c75ce4-3589-9097-cc65-8954b28f56c6" class="main-top-music-img" />
	                        <img th:src="@{/static/images/music_play_button.png}" 
	                        th:onclick="playMusic(/*[[${music.musicUrl}]]*/, /*[[${music.imgUrl}]]*/, /*[[${music.aiSinger}]]*/, /*[[${music.title}]]*/, /*[[${music.oriSinger}]]*/, /*[[${music.memberDetail.nickname}]]*/)"
	                            loading="lazy" alt="" class="play-button-img" /></div>
	                    <div class="main-top-music-detail-column w-col w-col-4">
	                        <h4 class="main-top-music-title" th:text="${music.aiSinger + ' - ' + music.title + '(' + music.oriSinger + ')'}">AI 가수 - Title(원작자)</h4>
	                        <p class="main-top-music-uploader" th:text="${music.uploaderNickname}">Uploader</p>
	                        <div class="div-block-9">
	                        	<img th:src="@{/static/images/like.png}" loading="lazy" width="24" alt="" class="main-top-music-show-like-img" />
	                            <div class="main-top-music-show-like-text" th:id="likeCount" th:text="${music.like}">55.3k</div>
	                        </div>
	                    </div>
	                    <div class="main-top-music-last-column w-col w-col-4">
	                        <div class="columns-8 w-row">
	                            <div class="w-col w-col-4">
	                            	<img th:src="@{/static/images/like.png}" th:onclick="|likeMusic(${music.id})|" loading="lazy" style="display:none" data-w-id="42c75ce4-3589-9097-cc65-8954b28f56d4"
	                                    th:attr="data-music-id=${music.id}" alt="" class="main-top-music-function-like" /></div>
	                            <div class="w-col w-col-4">
	                            	<img th:src="@{/static/images/add_song.png}" loading="lazy" style="display:none" alt=""
	                                    class="main-top-music-function-addsong" /></div>
	                            <div class="main-top-music-function-report-column w-col w-col-4"><a href="#"
	                                    class="w-inline-block">
	                                <img th:src="@{/static/images/report.png}" loading="lazy" style="display:none" alt=""
	                                        class="main-top-music-function-report" /></a></div>
	                        </div>
	                    </div>
	                </div>
                </div>
                
                <!-- <div data-w-id="8d098e18-2fd7-d28b-2ddd-ec4e4c91028a" class="main-top-music-row w-row">
                    <div class="main-top-music-img-column w-col w-col-4"><img
                            src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/6528300eae719661208005fa_null-symbol.png"
                            data-ix="fade-in-on-scroll" width="100" height="100"
                            style="-webkit-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 25PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0"
                            alt="" data-w-id="8d098e18-2fd7-d28b-2ddd-ec4e4c91028c" class="main-top-music-img" /><img
                            src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/6532818cf112bcb905605e39_play.png"
                            loading="lazy" alt="" class="play-button-img" /></div>
                    <div class="main-top-music-detail-column w-col w-col-4">
                        <h4 class="main-top-music-title">AI 가수 - Title(원작자)aaaaaaaaaaaaaaaaaaa</h4>
                        <p class="main-top-music-uploader">Uploader</p>
                        <div class="div-block-9"><img
                                src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/65086f80740ea01aab892a60_heart.png"
                                loading="lazy" width="24" alt="" class="main-top-music-show-like-img" />
                            <div class="main-top-music-show-like-text">55.3k</div>
                        </div>
                    </div>
                    <div class="main-top-music-last-column w-col w-col-4">
                        <div class="columns-8 w-row">
                            <div class="w-col w-col-4"><img
                                    src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/65086f80740ea01aab892a60_heart.png"
                                    loading="lazy" style="display:none" data-w-id="8d098e18-2fd7-d28b-2ddd-ec4e4c91029a"
                                    alt="" class="main-top-music-function-like" /></div>
                            <div class="w-col w-col-4"><img
                                    src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650beda9e0a10b45d18c5763_add_song.png"
                                    loading="lazy" style="display:none" alt=""
                                    class="main-top-music-function-addsong" /></div>
                            <div class="main-top-music-function-report-column w-col w-col-4"><a href="#"
                                    class="w-inline-block"><img
                                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650bed8c90bacc4fb8fb1b8f_report.png"
                                        loading="lazy" style="display:none" alt=""
                                        class="main-top-music-function-report" /></a></div>
                        </div>
                    </div>
                </div> -->
            </div>
            <h2 class="genre-heading">By Genre</h2>
            <div class="main-genre-first-column w-row">
                <div class="main-genre-column-1 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650da7ff73fce003d57f1178_Starboy.jpg"
                        loading="lazy"
                        sizes="(max-width: 479px) 100vw, (max-width: 767px) 97vw, (max-width: 991px) 14vw, 140px"
                        srcset="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650da7ff73fce003d57f1178_Starboy-p-500.jpg 500w, https://assets-global.website-files.com/65085ce06a89f83f850a1961/650da7ff73fce003d57f1178_Starboy.jpg 640w"
                        alt="" class="main-genre-img" />
                    <div class="main-genre-text">HipHop</div>
                </div>
                <div class="main-genre-column-2 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650da94e421c2e6778085129_WildFlower.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Ballad</div>
                </div>
                <div class="main-genre-column-3 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650daa2c4c5a7e60b80e0ccb_Back%20To%20The%20Soul%20Flight.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">R&amp;B</div>
                </div>
                <div class="main-genre-column-4 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650daa9f4e7d43ee5f76d543_25.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Pop</div>
                </div>
                <div class="main-genre-column-5 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650daae6131bac7d928b0e8b_505.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Rock &amp; Metal</div>
                </div>
                <div class="main-genre-column-6 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650dab62231d04fafb780604_L-O-V-E.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Jazz</div>
                </div>
            </div>
            <div class="main-genre-second-column w-row">
                <div class="main-genre-column-1 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650ef4ef299a53936d098dd5_Night%20Dancer.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">J-Pop</div>
                </div>
                <div class="main-genre-column-2 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650ef59a9aad1a83c3d5a3e4_troat.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Trot</div>
                </div>
                <div class="main-genre-column-3 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650ef62b6a90b88c67ae4d8e_LALA.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Latin</div>
                </div>
                <div class="main-genre-column-4 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650ef689ea23e1c17a59f2f4_Indie.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Indie</div>
                </div>
                <div class="main-genre-column-5 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650ef7f15050c9cddfa04209_10cm.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Acoustic</div>
                </div>
                <div class="main-genre-column-6 w-col w-col-2"><img
                        src="https://assets-global.website-files.com/65085ce06a89f83f850a1961/650ef770e788a656013f5f71_Dance.jpg"
                        loading="lazy" alt="" class="main-genre-img" />
                    <div class="main-genre-text">Dance &amp; Electronic</div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=65085ce06a89f83f850a1961"
        type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <script th:src="@{/js/index.js}"
        type="text/javascript"></script>
    <script th:src="@{/js/musicPlay.js}"
        type="text/javascript"></script>
</div>
</body>

</html>